// SPDX-FileCopyrightText: Copyright 2024 Automat Authors
// SPDX-License-Identifier: MIT
#pragma once

#include <include/core/SkPath.h>

#include "str.hh"

class SkSVGDOM;

namespace automat {

constexpr char kPlayShape[] = "M-5-8C-5.8-6-5.7 6-5 8-3 7.7 7.5 1.5 9 0 7.5-1.5-3-7.7-5-8Z";
constexpr char kNextShape[] =
    "M-7-8C-7.8-6-7.7 6-7 8-5 7.7 5.5 1.5 7 0Q7-4 6-7.5L8-8Q9-4 9 0 9 4 8 8L6 7.5Q7 4 7 "
    "0C5.5-1.5-5-7.7-7-8Z";
constexpr char kArrowShape[] = "M0 10l8-8 0-5-6 6V-10H-2V3l-6-6v5Z";
constexpr char kConnectionArrowShapeSVG[] = "M-13-8c-3 0-3 16 0 16 3-1 10-5 13-8-3-3-10-7-13-8z";
constexpr char kPowerSVG[] =
    "M-1-7V-4A1 1 0 001-4V-7A1 1 0 00-1-7ZM4-6A1 1 0 003-4 5 5 0 11-3-4 1 1 0 00-4-6 7 7 0 104-6";

constexpr char kPickSVG[] =
    "M0-4.5C-2.5-4.5-4.5-2.49-4.5 0-4.5 2.5-2.49 4.5 0 4.5S4.5 2.49 4.5 0 2.49-4.5 "
    "0-4.5ZM-.01-6c3.31 0 6 2.7 6 6 0 1.37-.46 2.64-1.24 3.65l.51.51a1.5 1.5 90 011.43.39L9.77 "
    "7.63a1.5 1.5 90 010 2.12 1.5 1.5 90 01-2.12 0L4.57 6.67A1.5 1.5 90 014.19 5.2L3.7 4.71C2.68 "
    "5.52 1.39 6 0 6-3.31 6-6 3.3-6 0-6-3.31-3.3-6 0-6Z";

constexpr char kTypeUnsignedSVG[] =
    "m0-4a4 4 0 00-4 4 4 4 0 004 4 4 4 0 004-4 4 4 0 00-4-4zm-0 1.57c.28 0 "
    ".56.02.61.06.03.04.05.83.05 1.75.93.01 1.73.02 1.76.05.06.06.06 1.17 0 "
    "1.21-.03.02-.83.04-1.76.05-.01.94-.02 1.74-.05 1.77-.06.06-1.17.06-1.21 "
    "0-.02-.03-.04-.83-.05-1.76-.93-0-1.73-.02-1.76-.05-.08-.08-.08-1.11 0-1.21.04-.03.83-.05 "
    "1.76-.05 0-.93.02-1.72.05-1.75.04-.04.32-.06.6-.06z";

constexpr char kTypeSignedSVG[] =
    "m0-4a4 4 0 00-4 4 4 4 0 004 4 4 4 0 004-4 4 4 0 00-4-4zm-0 .95c.23 0 "
    ".46.02.5.05.03.03.04.69.04 1.46.77.01 1.43.02 1.46.04.05.05.05.97 0 "
    "1-.03.02-.69.03-1.46.04-.01.77-.02 1.44-.04 1.46-.05.05-.97.05-1 "
    "0-.02-.03-.03-.69-.04-1.46-.77-0-1.43-.01-1.46-.04-.07-.07-.07-.92 0-1 .03-.03.69-.04 "
    "1.46-.04 0-.77.01-1.43.04-1.46.04-.03.26-.05.5-.05zm.01 4.51c.98 0 1.96.02 "
    "1.99.04.05.05.05.97 0 1-.07.04-3.93.07-4 0-.07-.07-.07-.92 0-1 .04-.03 1.03-.04 2.01-.04z";

constexpr char kTypeTextSVG[] =
    "m-.25-3.5a1.07 1.07 0 00-.99.67 1.38 1.38 0 00-.55-.11 1.38 1.38 0 00-1.36 1.15 1.35 1.35 0 "
    "00-.8 1.24 1.35 1.35 0 00.49 1.04 1.35 1.35 0 00-.01.17 1.35 1.35 0 001.35 1.35 1.35 1.35 0 "
    "00.56-.12.89.89 0 00.77.44.89.89 0 00.64-.27 1.07 1.07 0 00.85.42 1.07 1.07 0 00.74-.3 1.24 "
    "1.24 0 00.36.2.75.75 0 00-.08.33.75.75 0 000 .04.54.54 0 00-.49.53.54.54 0 00.54.54.54.54 0 "
    "00.51-.38.75.75 0 00.19.03.75.75 0 00.75-.75.75.75 0 00-.22-.53 1.24 1.24 0 00.46-.96 1.24 "
    "1.24 0 00-.05-.33 1.24 1.24 0 00.34-.85 1.24 1.24 0 00-.06-.37 1.17 1.17 0 00.32-.8 1.17 1.17 "
    "0 00-1.17-1.17 1.17 1.17 0 00-.25.03 1.18 1.18 0 00-1.16-.96 1.18 1.18 0 00-.76.28 1.07 1.07 "
    "0 00-.92-.56zm.09 1.73c.91 0 1.38.3 1.38 1.02 0 .58 0 .81 0 "
    ".81.01.2.01.43.06.5.05.07.18.08.32.02.01.06.02.07.03.13-.12.12-.31.22-.63.22-.31 "
    "0-.65-.1-.7-.38-.24.31-.57.38-.86.38-.47 "
    "0-.9-.15-.92-.57-.02-.42.24-.81.94-.94.55-.11.87.01.86-.39-.01-.29-.07-.59-.36-.59-.6-.02-.95."
    "33-.75.51-.17.25-.41.26-.56.19-.14-.07-.18-.23-.07-.43.19-.37.81-.48 1.26-.48zm.47 "
    "1.2c-.06.09-.13.12-.43.2-.26.07-.46.29-.46.58 0 "
    ".26.24.42.46.37.28-.06.39-.31.41-.58.01-.21.02-.42.01-.56zm.05 3.65a.39.39 0 00-.39.39.39.39 "
    "0 00.39.39.39.39 0 00.39-.39.39.39 0 00-.39-.39zm-1.38.21a.32.32 0 00-.32.32.32.32 0 "
    "00.32.32.32.32 0 00.32-.32.32.32 0 00-.32-.32z";

constexpr char kTypeHexSVG[] =
    "m0-2.94c-.29 0-2.39 1.21-2.54 1.46-.15.25-.15 2.67 0 2.93.15.25 2.24 1.46 2.54 1.46.29 0 "
    "2.39-1.21 2.54-1.46.15-.25.15-2.67 0-2.93-.15-.25-2.24-1.46-2.54-1.46zm-1.35 1.67.43 0c.12 0 "
    ".19.07.2.21l0 1.88.2 0c.14 0 .21.07.21.21l0 .01c0 .13-.07.2-.21.2l-1.24 0c-.14 "
    "0-.21-.07-.21-.2l0-.01c0-.14.07-.21.21-.21l.21 0 0-1.67-.2 0c-.14 "
    "0-.21-.07-.21-.2l0-.01c0-.14.07-.21.21-.21l.36 0c.02 0 .03 0 .05 0zm1.66.01 1.24 0c.14 0 "
    ".21.07.21.21 0 .14-.07.21-.21.2l-.62-.01 0 .63.83 0c.14 0 .2.07.2.21l0 1.03c0 "
    ".14-.07.21-.21.21l-1.45 0c-.14 0-.21-.07-.21-.21l0-2.08c0-.14.07-.19.22-.19zm.21 1.45 0 .63 "
    "1.04 0 0-.63-1.04 0z";

enum SVGUnit {
  SVGUnit_Pixels96DPI,
  SVGUnit_Millimeters,
};

// Parse the given SVG path and return it as a properly scaled SkPath.
//
// Scaling assumes 96 DPI and converts coordinates to meters.
SkPath PathFromSVG(const char svg[], SVGUnit unit = SVGUnit_Pixels96DPI);

sk_sp<SkSVGDOM> SVGFromAsset(maf::StrView svg_contents);

}  // namespace automat